<script tag="app-github">
  import { async } from 'estrela/directives';

  const GITHUB_API = '//api.github.com/search/repositories';
  const repositories = fetch(`${GITHUB_API}?q=estrela`)
    .then(r => r.json())
    .then<any[]>(json => json?.items ?? [])
</script>

<ul>
  {
    async(
      repositories.then(items => items.map(repo => <li>{ repo.name }</li>)),
      <li>Loading...</li>,
      <li>Error! Something went wrong!</li>
    )
  }
</ul>
